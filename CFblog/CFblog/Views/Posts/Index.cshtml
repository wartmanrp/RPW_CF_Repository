@model IEnumerable<CFblog.Models.Post>

@{
    ViewBag.Title = "Index";
}
    <!--=== Content Part ===-->
<div class="content blog-full-width">


@if (User.IsInRole("Admin"))
{
    <h4 class="pull-right">
        @Html.ActionLink("Create New", "Create")
    </h4>
}

    @foreach (var post in Model)
    {
            <!--Blog Post-->
        <div class="blog margin-bottom-40">
            <div class="blog-img">
                <a href="~/Posts/Details/@post.Id">
                    <img class="img-responsive" src="@post.MediaUrl" alt="">
                </a>
            </div>
            <h2>
                @Html.ActionLink(post.Title, "Details", new { id = post.Id})
            </h2>
            <div class="blog-post-tags">
                <ul class="list-unstyled list-inline blog-info"> 
                    <li><i class="fa fa-calendar"></i> @post.Created </li>
                    <li><i class="fa fa-pencil"></i> Powers Wartman </li>
                    <li><i class="fa fa-comments"></i> <a href="#"> @post.Comments.Count</a> Comments </li>
                    <li><i class="fa fa-tags"></i> 
                    @foreach (var item in post.Categories)
                        { 
                            @item.Name
                        }
                    </li>
                </ul>
            </div>
            <div id="abstract + @post.Id">
                <p>@Html.Raw(post.Body)</p>
            </div>
            <p>
                @Html.ActionLink("Read More", "Details", new { id = post.Id }, new { @class= "btn-u btn-u-small" })
            </p>
        </div>
    <!--End Blog Post-->


    }

</div><!--/container-->
<script type="text/javascript">
        $(document).ready(function () {
            $("[id^=abstract]").dotdotdot({
                height: 50,
                ellipsis: '... ',
                wrap: 'word',
                fallbackToLetter: true,
                watch: "window"
            });
        });
</script>
<!--=== End Content Part ===-->
